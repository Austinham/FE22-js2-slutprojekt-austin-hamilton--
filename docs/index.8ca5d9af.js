const e="https://login-2c7ee-default-rtdb.europe-west1.firebasedatabase.app/users.json";console.log(e);document.querySelector("#loginUserName"),document.querySelector("#loginUserPassword");const t=document.querySelector("#loginBtn"),o=document.querySelector("#loginLink"),n=document.querySelector("#createAccount"),c=(document.querySelector("#signup-Name"),document.querySelector("#signup-Password"),document.querySelector("#createAccountLink")),r=document.querySelectorAll(".avatar"),s=document.querySelector("#createAccountForm"),l=document.querySelector("#login");s.style.display="none";const a=[];r.forEach((e=>{e.addEventListener("click",(()=>{a.shift(),a.push(e.value)}))})),o.addEventListener("click",(e=>{e.preventDefault(),l.style.display="block",s.style.display="none"})),c.addEventListener("click",(e=>{e.preventDefault(),l.style.display="none",s.style.display="block"})),n?.addEventListener("click",(async function(t){t.preventDefault();const o=document.querySelector("#signup-Name"),n=document.querySelector("#signup-Password"),c=(document.querySelector("#image-section"),o.value),r=n.value,s={username:c,password:r,image:a[0]},l={method:"POST",body:JSON.stringify(s),headers:{"Content-type":"application/json; charset=UTF-8"}},u=await fetch(e,l);if(200===u.status||201===u.status){console.log("Account created successfully");const e=document.createElement("div");e.innerText="Your account has been created successfully!",e.style.color="green";const t=document.querySelector("#createAccountForm");t.parentElement?.insertBefore(e,t.nextSibling)}else{console.log("Account creation failed");const e=document.createElement("div");e.innerText="There was an error creating your account. Please try again later.",e.style.color="red";const t=document.querySelector("#createAccountForm");t.parentElement?.insertBefore(e,t.nextSibling)}})),t.addEventListener("click",(async function(t){t.preventDefault();try{const t=await fetch(e);!function(e){const t=Object.entries(e).map((([e,t])=>({id:e,...t})));console.log(t,"this is the list from data");const o=document.querySelector("#loginUserName").value,n=document.querySelector("#loginUserPassword").value;console.log(e,"2321");for(let e=0;e<t.length;e++)if(o===t[e].username&&n===t[e].password)return localStorage.setItem("loggedInUser",JSON.stringify(t[e])),window.location.assign("../html/signin.html"),void console.log(t[e].id,"Welcome");alert("User not found.")}(await t.json())}catch(e){console.log(e)}}));
//# sourceMappingURL=index.8ca5d9af.js.map
